---
export const prerender = true;
import t from "../../i18n/en";
import { inject } from "@vercel/analytics";
inject();
---


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>VXGear â€“ Feel the Road</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />

    <style>
      body { font-family: 'Inter', sans-serif; margin: 0; }
      #fadeCarousel img {
        position: absolute; inset: 0; width: 100%; height: 100%;
        object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out;
      }
      #fadeCarousel img.active { opacity: 1; }
    </style>
  </head>

  <body class="bg-[#0F0F0F] text-white">
    <main class="grid grid-cols-1 lg:grid-cols-2 min-h-screen">

      <!-- LEFT -->
      <div class="px-8 lg:px-24 py-12 flex flex-col justify-center">

        <!-- LANGUAGE SWITCHER -->
      <div class="flex justify-end mb-6 lg:mb-10 -mt-6">
        <nav class="flex gap-4 text-sm text-white/70">
          <a href="/es/" class="hover:text-white">{t.switchToEs}</a>
          <a href="/en/" class="hover:text-white">{t.switchToEn}</a>
        </nav>
      </div>

        <!-- LOGO -->
         
        <div class="flex items-center gap-4 mb-12">
          <img src="/img/logo.png" alt="VXGear Logo" class="h-32 w-auto object-contain md:h-40" />
        </div>

        <!-- BADGE -->
        <div class="flex items-center gap-2 w-1/2 md:w-fit rounded-full          
            border border-white/10 bg-white/5 
            px-3 py-1 text-xs uppercase tracking-wide text-white/70">
          <span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span>
          {t.launching}
        </div>

        <!-- DYNAMIC TITLE -->
        <h1 id="dynamicTitle" 
          class="text-4xl leading-tight mt-6 md:text-6xl md:leading-tight font-semibold">        
        </h1>

        <script>
          document.addEventListener("DOMContentLoaded", () => {
            const phrases = [
              "Find the gear that fits your ride.",
              "Smart picks for smarter riders.",
              "Style and safety matched at perfection.",
              "Your road, your look, your gear.",
              "Ride smarter. Dress better.",
              "Gear made for how you ride."
            ];

            const randomPhrase = phrases[Math.floor(Math.random() * phrases.length)];

            document.getElementById("dynamicTitle").innerHTML =
              randomPhrase.replace(
                /gear|riders|fit|smarter|look|road|dress|picks|safety|perfection|style/gi,
                (match) => `<span class="text-[#B79A29]">${match}</span>`
              );
          });
        </script>

        
        <!-- DESCRIPTION -->

        <p class="text-base text-white/70 mt-4 w-full md:text-lg">
           VXGear uses AI to analyze your style, your bike and the road conditions to recommend jackets, helmets, gloves and accessories that truly fit you.
        </p>

        <p class="text-[#d1ccb8] text-base mt-4 mb-3 w-full md:text-lg">
          Be the first to know. Join VXGear and we'll notify you as soon as the app is available.
        </p>

        <!-- E MAIL FORM -->

        <form id="waitlistForm" class="flex mt-3 max-w-lg w-full">
          <input type="hidden" name="lang" value="en" />
          <input
            id="emailInput" 
            type="email"
            name="email"
            required
            placeholder="Enter your email"
            class="flex-1 border border-white/20 bg-white/10 text-white rounded-l-xl px-4 py-3 outline-none placeholder-white/50"
          />
          <button
            id="submitBtn"
            type="submit"
            class="bg-[#B79A29] text-black font-semibold px-6 py-3 rounded-r-xl hover:bg-[#d8b643] transition"
          >
            Join now
          </button>
        </form>

        <p id="feedbackMsg" class="text-sm mt-3 opacity-0 transition-all duration-300"></p>

        <script>
          const form = document.getElementById("waitlistForm");
          const emailInput = document.getElementById("emailInput");
          const submitBtn = document.getElementById("submitBtn");
          const msg = document.getElementById("feedbackMsg");

          // ðŸ”¥ Ejecutar contador al cargar la pÃ¡gina
          document.addEventListener("DOMContentLoaded", updateCount);

          form.addEventListener("submit", async (e) => {
            e.preventDefault();

            submitBtn.innerText = "Sending...";
            submitBtn.disabled = true;
            submitBtn.classList.add("opacity-70");

            const body = new FormData(form);

            try {
              const res = await fetch("/api/subscribe", {
                method: "POST",
                body,
              });

              const data = await res.json();

              if (res.ok && data?.success) {
                msg.innerText = "You're in! Welcome to VXGear.";
                msg.className = "text-green-400 text-sm mt-3 opacity-100";
                form.reset();

                // ðŸ”¥ Actualiza el contador despuÃ©s de guardar email
                await updateCount();
              } else {
                msg.innerText = "Something went wrong. Try again.";
                msg.className = "text-red-400 text-sm mt-3 opacity-100";
              }
            } catch (err) {
              msg.innerText = "Something went wrong. Try again.";
              msg.className = "text-red-400 text-sm mt-3 opacity-100";
            }

            submitBtn.innerText = "Join now";
            submitBtn.disabled = false;
            submitBtn.classList.remove("opacity-70");
          });

          // ðŸ“© FunciÃ³n que actualiza el contador desde /api/count
          async function updateCount() {
            try {
              const res = await fetch("/api/count");
              const data = await res.json();

              const countEl = document.getElementById("emailCounter");
              if (countEl) {
                countEl.textContent = `ðŸ‘¥ ${data.total} riders already joined!`;
              }
            } catch (err) {
              console.error("Error updating count:", err);
            }
          }
        </script>



        <!-- AVATARS -->
        <div class="flex items-center gap-3 mt-6">
          <div class="flex -space-x-3">
            <img src="/img/avatar/avatar1.png" class="h-9 w-9 rounded-full border border-black shadow" />
            <img src="/img/avatar/avatar2.png" class="h-9 w-9 rounded-full border border-black shadow" />
            <img src="/img/avatar/avatar3.png" class="h-9 w-9 rounded-full border border-black shadow" />
            <img src="/img/avatar/avatar4.png" class="h-9 w-9 rounded-full border border-black shadow" />
            <img src="/img/avatar/avatar5.png" class="h-9 w-9 rounded-full border border-black shadow" />
          </div>
<!--          <p class="text-sm text-white/50">{t.ridersJoined}</p> -->

          <p id="emailCounter" class="text-sm text-white/70 translate-y-[1px]">

          <script>
            document.addEventListener("DOMContentLoaded", () => {
              fetch("/api/count")
                .then(res => res.json())
                .then(data => {
                  document.getElementById("emailCounter").textContent =
                    `ðŸ‘¥ ${data.total} riders already joined!`;
                })
                .catch(() => {});
            });
          </script>
        </p>


        </div>

        <!-- FOOTER -->
        <footer class="mt-32 text-xs text-white/40">
          {t.footer1}<br />{t.footer2}

.        </footer>

      </div>

      <!-- RIGHT CAROUSEL -->
      <div class="relative w-full h-[45vh] sm:h-[55vh] md:h-screen overflow-hidden">
        <div id="fadeCarousel" class="absolute inset-0">
          <img src="/img/slide_01.jpg" class="active" />
          <img src="/img/slide_02.jpg" />
          <img src="/img/slide_03.jpg" />
          <img src="/img/slide_04.jpg" />
        </div>
      </div>

    </main>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const imgs = document.querySelectorAll("#fadeCarousel img");
        let index = 0;

        setInterval(() => {
          imgs[index].classList.remove("active");
          index = (index + 1) % imgs.length;
          imgs[index].classList.add("active");
        }, 3800);
      });
    </script>

    <script defer src="https://cloud.umami.is/script.js" data-website-id="d7a9ed2d-2e4d-427e-aa15-2a38853d4650"></script>

  </body>
</html>
